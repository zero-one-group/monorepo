# https://moonrepo.dev/docs/config/project
# yaml-language-server: $schema=https://moonrepo.dev/schemas/project.json
$schema: "https://moonrepo.dev/schemas/project.json"

type: library
language: python
tags: ["data-pipeline"]

# Overrides the name (identifier) of the project
id: "data-pipeline"

project:
  name: "data-pipeline"
  description: "Data Pipeline Repo"

env:
  APP_PREFIX: "$(jq -r .name <$workspaceRoot'/package.json')"
  APP_VERSION: "$(jq -r .version <$workspaceRoot'/package.json')"
  IMAGE_NAME: "$APP_PREFIX-$project"

# Since this project can infer task from script (package.json), then you can run any script as moon task.
# @see: https://moonrepo.dev/api/types/interface/NodeConfig#inferTasksFromScripts
# Example: `moon ai-app:start`
tasks:
  # Install and synchronize all project dependencies using uv
  sync:
    command: "uv sync"

